var __vite_style__=document.createElement("style");__vite_style__.innerHTML=`.carousel-3d-slide{position:absolute;opacity:0;visibility:hidden;overflow:hidden;top:0;border-radius:1px;border-color:#000;border-color:#0006;border-style:solid;background-size:cover;background-color:#ccc;display:block;margin:0;box-sizing:border-box}.carousel-3d-slide{text-align:left}.carousel-3d-slide img{width:100%}.carousel-3d-slide.current{opacity:1!important;visibility:visible!important;transform:none!important;z-index:999}.carousel-3d-controls[data-v-067f74c8]{position:absolute;top:50%;height:0;margin-top:-30px;left:0;width:100%;z-index:1000}.next[data-v-067f74c8],.prev[data-v-067f74c8]{width:60px;position:absolute;z-index:1010;font-size:60px;height:60px;line-height:60px;color:#333;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-decoration:none;top:0}.next[data-v-067f74c8]:hover,.prev[data-v-067f74c8]:hover{cursor:pointer;opacity:.7}.prev[data-v-067f74c8]{left:10px;text-align:left}.next[data-v-067f74c8]{right:10px;text-align:right}.disabled[data-v-067f74c8]{opacity:.2;cursor:default}.disabled[data-v-067f74c8]:hover{cursor:default;opacity:.2}.carousel-3d-container[data-v-164aa45b]{min-height:1px;width:100%;position:relative;z-index:0;overflow:hidden;margin:20px auto;box-sizing:border-box}.carousel-3d-slider[data-v-164aa45b]{position:relative;margin:0 auto;transform-style:preserve-3d;-webkit-perspective:1000px;-moz-perspective:1000px;perspective:1000px}
(function(d,u){typeof exports=="object"&&typeof module!="undefined"?u(exports):typeof define=="function"&&define.amd?define(["exports"],u):(d=typeof globalThis!="undefined"?globalThis:d||self,u(d["carousel-3d"]={}))})(this,function(d){"use strict";`;document.head.appendChild(__vite_style__);function u(t){if(m(t)){const e={};for(let i=0;i<t.length;i++){const n=t[i],s=h(n)?G(n):u(n);if(s)for(const r in s)e[r]=s[r]}return e}else{if(h(t))return t;if(_(t))return t}}const U=/;(?![^(]*\))/g,Z=/:(.+)/;function G(t){const e={};return t.split(U).forEach(i=>{if(i){const n=i.split(Z);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function g(t){let e="";if(h(t))e=t;else if(m(t))for(let i=0;i<t.length;i++){const n=g(t[i]);n&&(e+=n+" ")}else if(_(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}const J=[],Q=/^on[^a-z]/,tt=t=>Q.test(t),$=Object.assign,m=Array.isArray,y=t=>typeof t=="function",h=t=>typeof t=="string",_=t=>t!==null&&typeof t=="object",P=t=>{const e=Object.create(null);return i=>e[i]||(e[i]=t(i))},et=/-(\w)/g,b=P(t=>t.replace(et,(e,i)=>i?i.toUpperCase():"")),E=P(t=>t.charAt(0).toUpperCase()+t.slice(1));function F(t){return H(t)?F(t.__v_raw):!!(t&&t.__v_isReactive)}function H(t){return!!(t&&t.__v_isReadonly)}function T(t){return F(t)||H(t)}function it(t){return!!(t&&t.__v_isRef===!0)}let c=null,st=null;const nt=t=>t.__isSuspense,rt=t=>!!t.type.__asyncLoader,ot=t=>t.__isTeleport,A="components";function lt(t,e){return ut(A,t,!0,e)||t}const at=Symbol();function ut(t,e,i=!0,n=!1){const s=c||xt;if(s){const r=s.type;if(t===A){const l=yt(r);if(l&&(l===e||l===b(e)||l===E(b(e))))return r}const o=R(s[t]||r[t],e)||R(s.appContext[t],e);return!o&&n?r:o}}function R(t,e){return t&&(t[e]||t[b(e)]||t[E(b(e))])}const I=Symbol(void 0),ct=Symbol(void 0),S=Symbol(void 0),w=[];let f=null;function x(t=!1){w.push(f=t?null:[])}function dt(){w.pop(),f=w[w.length-1]||null}function D(t){return t.dynamicChildren=f||J,dt(),f&&f.push(t),t}function N(t,e,i,n,s,r){return D(p(t,e,i,n,s,r,!0))}function O(t,e,i,n,s){return D(M(t,e,i,n,s,!0))}function X(t){return t?t.__v_isVNode===!0:!1}const Y="__vInternal",B=({key:t})=>t!=null?t:null,C=({ref:t,ref_key:e,ref_for:i})=>t!=null?h(t)||it(t)||y(t)?{i:c,r:t,k:e,f:!!i}:t:null;function p(t,e=null,i=null,n=0,s=null,r=t===I?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&B(e),ref:e&&C(e),scopeId:st,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null};return l?(L(a,i),r&128&&t.normalize(a)):i&&(a.shapeFlag|=h(i)?8:16),!o&&f&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&f.push(a),a}const M=ht;function ht(t,e=null,i=null,n=0,s=null,r=!1){if((!t||t===at)&&(t=S),X(t)){const l=z(t,e,!0);return i&&L(l,i),l}if(vt(t)&&(t=t.__vccOpts),e){e=ft(e);let{class:l,style:a}=e;l&&!h(l)&&(e.class=g(l)),_(a)&&(T(a)&&!m(a)&&(a=$({},a)),e.style=u(a))}const o=h(t)?1:nt(t)?128:ot(t)?64:_(t)?4:y(t)?2:0;return p(t,e,i,n,s,o,r,!0)}function ft(t){return t?T(t)||Y in t?$({},t):t:null}function z(t,e,i=!1){const{props:n,ref:s,patchFlag:r,children:o}=t,l=e?mt(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&B(l),ref:e&&e.ref?i&&s?m(s)?s.concat(C(e)):[s,C(e)]:C(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==I?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&z(t.ssContent),ssFallback:t.ssFallback&&z(t.ssFallback),el:t.el,anchor:t.anchor}}function pt(t=" ",e=0){return M(ct,null,t,e)}function gt(t="",e=!1){return e?(x(),O(S,null,t)):M(S,null,t)}function L(t,e){let i=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(m(e))i=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),L(t,s()),s._c&&(s._d=!0));return}else{i=32;const s=e._;!s&&!(Y in e)?e._ctx=c:s===3&&c&&(c.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else y(e)?(e={default:e,_ctx:c},i=32):(e=String(e),n&64?(i=16,e=[pt(e)]):i=8);t.children=e,t.shapeFlag|=i}function mt(...t){const e={};for(let i=0;i<t.length;i++){const n=t[i];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=g([e.class,n.class]));else if(s==="style")e.style=u([e.style,n.style]);else if(tt(s)){const r=e[s],o=n[s];o&&r!==o&&!(m(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=n[s])}return e}function V(t,e,i={},n,s){if(c.isCE||c.parent&&rt(c.parent)&&c.parent.isCE)return M("slot",e==="default"?null:{name:e},n&&n());let r=t[e];r&&r._c&&(r._d=!1),x();const o=r&&W(r(i)),l=O(I,{key:i.key||`_${e}`},o||(n?n():[]),o&&t._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function W(t){return t.some(e=>X(e)?!(e.type===S||e.type===I&&!W(e.children)):!0)?t:null}let xt=null;function yt(t){return y(t)&&t.displayName||t.name}function vt(t){return y(t)&&"__vccOpts"in t}const _t=["ctrl","shift","alt","meta"],bt={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>_t.some(i=>t[`${i}Key`]&&!e.includes(i))},j=(t,e)=>(i,...n)=>{for(let s=0;s<e.length;s++){const r=bt[e[s]];if(r&&r(i,e))return}return t(i,...n)};var Et="",k=(t,e)=>{const i=t.__vccOpts||t;for(const[n,s]of e)i[n]=s;return i};const It={name:"Slide",props:{index:{type:Number}},data(){return{parent:this.$parent,styles:{},zIndex:999}},computed:{isCurrent(){return this.index===this.parent.currentIndex},leftIndex(){return this.parent.oneDirectional&&this.getSideIndex(this.parent.leftIndices)>this.parent.currentIndex-1?-1:this.getSideIndex(this.parent.leftIndices)},rightIndex(){return this.parent.oneDirectional&&this.getSideIndex(this.parent.rightIndices)>this.parent.total-this.parent.currentIndex-2?-1:this.getSideIndex(this.parent.rightIndices)},slideStyle(){let t={};if(!this.isCurrent){const e=this.leftIndex,i=this.rightIndex;(i>=0||e>=0)&&(t=i>=0?this.calculatePosition(i,!0,this.zIndex):this.calculatePosition(e,!1,this.zIndex),t.opacity=1,t.visibility="visible"),this.parent.hasHiddenSlides&&(this.matchIndex(this.parent.leftOutIndex)?t=this.calculatePosition(this.parent.leftIndices.length-1,!1,this.zIndex):this.matchIndex(this.parent.rightOutIndex)&&(t=this.calculatePosition(this.parent.rightIndices.length-1,!0,this.zIndex)))}return Object.assign(t,{"border-width":this.parent.border+"px",width:this.parent.slideWidth+"px",height:this.parent.slideHeight+"px",transition:" transform "+this.parent.animationSpeed+"ms,                opacity "+this.parent.animationSpeed+"ms,                visibility "+this.parent.animationSpeed+"ms"})},computedClasses(){return{[`left-${this.leftIndex+1}`]:this.leftIndex>=0,[`right-${this.rightIndex+1}`]:this.rightIndex>=0,current:this.isCurrent}}},methods:{getSideIndex(t){let e=-1;return t.forEach((i,n)=>{this.matchIndex(i)&&(e=n)}),e},matchIndex(t){return t>=0?this.index===t:this.parent.total+t===this.index},calculatePosition(t,e,i){const n=this.parent.disable3d?0:parseInt(this.parent.inverseScaling)+(t+1)*100,s=this.parent.disable3d?0:parseInt(this.parent.perspective),r=this.parent.space==="auto"?parseInt((t+1)*(this.parent.width/1.5),10):parseInt((t+1)*this.parent.space,10),o=e?"translateX("+r+"px) translateZ(-"+n+"px) rotateY(-"+s+"deg)":"translateX(-"+r+"px) translateZ(-"+n+"px) rotateY("+s+"deg)",l=this.parent.space==="auto"?0:parseInt((t+1)*this.parent.space);return{transform:o,top:l,zIndex:i-(Math.abs(t)+1)}},goTo(){if(!this.isCurrent)this.parent.clickable===!0&&this.parent.goFar(this.index);else{const{index:t}=this;this.parent.onMainSlideClick({index:t})}}}};function St(t,e,i,n,s,r){return x(),N("div",{class:g(["carousel-3d-slide",r.computedClasses]),style:u(r.slideStyle),onClick:e[0]||(e[0]=o=>r.goTo())},[V(t.$slots,"default",{index:i.index,isCurrent:r.isCurrent,leftIndex:r.leftIndex,rightIndex:r.rightIndex})],6)}var K=k(It,[["render",St]]);const wt={props:{autoplay:{type:Boolean,default:!1},autoplayTimeout:{type:Number,default:2e3},autoplayHoverPause:{type:Boolean,default:!0}},data(){return{autoplayInterval:null}},destroyed(){this.process_server||(this.pauseAutoplay(),this.$el.removeEventListener("mouseenter",this.pauseAutoplay),this.$el.removeEventListener("mouseleave",this.startAutoplay))},methods:{pauseAutoplay(){this.autoplayInterval&&(this.autoplayInterval=clearInterval(this.autoplayInterval))},startAutoplay(){this.autoplay&&(this.autoplayInterval=setInterval(()=>{this.dir==="ltr"?this.goPrev():this.goNext()},this.autoplayTimeout))}},mounted(){!this.process_server&&this.autoplayHoverPause&&(this.$el.addEventListener("mouseenter",this.pauseAutoplay),this.$el.addEventListener("mouseleave",this.startAutoplay),this.startAutoplay())}};var Ft="";const Ct={name:"Controls",props:{width:{type:[String,Number],default:50},height:{type:[String,Number],default:60},prevHtml:{type:String,default:"&lsaquo;"},nextHtml:{type:String,default:"&rsaquo;"}},data(){return{parent:this.$parent}}},Mt={class:"carousel-3d-controls"},Nt=["innerHTML"],Ot=["innerHTML"];function zt(t,e,i,n,s,r){return x(),N("div",Mt,[p("a",{href:"#",class:g(["prev",{disabled:!s.parent.isPrevPossible}]),onClick:e[0]||(e[0]=j(o=>s.parent.goPrev(),["prevent"])),style:u(`width: ${i.width}px; height: ${i.height}px; line-height: ${i.height}px;`),"aria-label":"Previous slide"},[p("span",{innerHTML:i.prevHtml},null,8,Nt)],6),p("a",{href:"#",class:g(["next",{disabled:!s.parent.isNextPossible}]),onClick:e[1]||(e[1]=j(o=>s.parent.goNext(),["prevent"])),style:u(`width: ${i.width}px; height: ${i.height}px; line-height: ${i.height}px;`),"aria-label":"Next slide"},[p("span",{innerHTML:i.nextHtml},null,8,Ot)],6)])}var Lt=k(Ct,[["render",zt],["__scopeId","data-v-067f74c8"]]),Ht="";const v=()=>{},kt={name:"Carousel3d",components:{Controls:Lt},props:{count:{type:[Number,String],default:0},perspective:{type:[Number,String],default:35},display:{type:[Number,String],default:5},loop:{type:Boolean,default:!0},animationSpeed:{type:[Number,String],default:500},dir:{type:String,default:"rtl"},width:{type:[Number,String],default:360},height:{type:[Number,String],default:270},border:{type:[Number,String],default:1},space:{type:[Number,String],default:"auto"},startIndex:{type:[Number,String],default:0},clickable:{type:Boolean,default:!0},disable3d:{type:Boolean,default:!1},minSwipeDistance:{type:Number,default:10},inverseScaling:{type:[Number,String],default:300},controlsVisible:{type:Boolean,default:!1},controlsPrevHtml:{type:String,default:"&lsaquo;"},controlsNextHtml:{type:String,default:"&rsaquo;"},controlsWidth:{type:[String,Number],default:50},controlsHeight:{type:[String,Number],default:50},onLastSlide:{type:Function,default:v},onSlideChange:{type:Function,default:v},bias:{type:String,default:"left"},onMainSlideClick:{type:Function,default:v},oneDirectional:{type:Boolean,default:!1}},data(){return{viewport:0,currentIndex:0,total:0,dragOffsetX:0,dragStartX:0,dragOffsetY:0,dragStartY:0,mousedown:!1,zIndex:998,process_server:typeof window===void 0}},mixins:[wt],watch:{count(){this.computeData()}},computed:{isLastSlide(){return this.currentIndex===this.total-1},isFirstSlide(){return this.currentIndex===0},isNextPossible(){return!(!this.loop&&this.isLastSlide)},isPrevPossible(){return!(!this.loop&&this.isFirstSlide)},slideWidth(){const t=this.viewport,e=parseInt(this.width)+parseInt(this.border,10)*2;return t<e&&!this.process_server?t:e},slideHeight(){const t=parseInt(this.width,10)+parseInt(this.border,10)*2,e=parseInt(parseInt(this.height)+this.border*2,10),i=this.calculateAspectRatio(t,e);return this.slideWidth/i},visible(){return this.display>this.total?this.total:this.display},hasHiddenSlides(){return this.total>this.visible},leftIndices(){let t=(this.visible-1)/2;t=this.bias.toLowerCase()==="left"?Math.ceil(t):Math.floor(t);const e=[];for(let i=1;i<=t;i++)e.push(this.dir==="ltr"?(this.currentIndex+i)%this.total:(this.currentIndex-i)%this.total);return e},rightIndices(){let t=(this.visible-1)/2;t=this.bias.toLowerCase()==="right"?Math.ceil(t):Math.floor(t);const e=[];for(let i=1;i<=t;i++)e.push(this.dir==="ltr"?(this.currentIndex-i)%this.total:(this.currentIndex+i)%this.total);return e},leftOutIndex(){let t=(this.visible-1)/2;return t=this.bias.toLowerCase()==="left"?Math.ceil(t):Math.floor(t),t++,this.dir==="ltr"?this.total-this.currentIndex-t<=0?-parseInt(this.total-this.currentIndex-t):this.currentIndex+t:this.currentIndex-t},rightOutIndex(){let t=(this.visible-1)/2;return t=this.bias.toLowerCase()==="right"?Math.ceil(t):Math.floor(t),t++,this.dir==="ltr"?this.currentIndex-t:this.total-this.currentIndex-t<=0?-parseInt(this.total-this.currentIndex-t,10):this.currentIndex+t}},methods:{goNext(){this.isNextPossible&&(this.isLastSlide?this.goSlide(0):this.goSlide(this.currentIndex+1))},goPrev(){this.isPrevPossible&&(this.isFirstSlide?this.goSlide(this.total-1):this.goSlide(this.currentIndex-1))},goSlide(t){this.currentIndex=t<0||t>this.total-1?0:t,this.isLastSlide&&(this.onLastSlide!==v&&console.warn("onLastSlide deprecated, please use @last-slide"),this.onLastSlide(this.currentIndex),this.$emit("last-slide",this.currentIndex)),this.$emit("before-slide-change",this.currentIndex),setTimeout(()=>this.animationEnd(),this.animationSpeed)},goFar(t){let e=t===this.total-1&&this.isFirstSlide?-1:t-this.currentIndex;this.isLastSlide&&t===0&&(e=1);const i=e<0?-e:e;let n=0,s=0;for(;s<i;)s+=1,setTimeout(()=>e<0?this.goPrev(i):this.goNext(i),i===1?0:n),n+=this.animationSpeed/i},animationEnd(){this.onSlideChange!==v&&console.warn("onSlideChange deprecated, please use @after-slide-change"),this.onSlideChange(this.currentIndex),this.$emit("after-slide-change",this.currentIndex)},handleMouseup(){this.mousedown=!1,this.dragOffsetX=0,this.dragOffsetY=0},handleMousedown(t){t.touches||t.preventDefault(),this.mousedown=!0,this.dragStartX="ontouchstart"in window?t.touches[0].clientX:t.clientX,this.dragStartY="ontouchstart"in window?t.touches[0].clientY:t.clientY},handleMousemove(t){if(!this.mousedown)return;const e="ontouchstart"in window?t.touches[0].clientX:t.clientX,i="ontouchstart"in window?t.touches[0].clientY:t.clientY,n=this.dragStartX-e,s=this.dragStartY-i;this.dragOffsetX=n,this.dragOffsetY=s,!(Math.abs(this.dragOffsetY)>Math.abs(this.dragOffsetX))&&(this.dragOffsetX>this.minSwipeDistance?(this.handleMouseup(),this.goNext()):this.dragOffsetX<-this.minSwipeDistance&&(this.handleMouseup(),this.goPrev()))},attachMutationObserver(){const t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(t){const e={attributes:!0,childList:!0,characterData:!0};this.mutationObserver=new t(()=>{this.$nextTick(()=>{this.computeData()})}),this.$el&&this.mutationObserver.observe(this.$el,e)}},detachMutationObserver(){this.mutationObserver&&this.mutationObserver.disconnect()},getSlideCount(){const t=this.$slots.default();return t.length>0?t[0].children.length:0},calculateAspectRatio(t,e){return Math.min(t/e)},computeData(t){this.total=this.getSlideCount(),(t||this.currentIndex>=this.total)&&(this.currentIndex=parseInt(this.startIndex)>this.total-1?this.total-1:parseInt(this.startIndex)),this.viewport=this.$el.clientWidth},setSize(){this.$el.style.cssText+="height:"+this.slideHeight+"px;",this.$el.childNodes[0].style.cssText+="width:"+this.slideWidth+"px; height:"+this.slideHeight+"px;"}},mounted(){this.process_server||(this.computeData(!0),this.attachMutationObserver(),window.addEventListener("resize",this.setSize),"ontouchstart"in window?(this.$el.addEventListener("touchstart",this.handleMousedown),this.$el.addEventListener("touchend",this.handleMouseup),this.$el.addEventListener("touchmove",this.handleMousemove)):(this.$el.addEventListener("mousedown",this.handleMousedown),this.$el.addEventListener("mouseup",this.handleMouseup),this.$el.addEventListener("mousemove",this.handleMousemove)))},beforeDestroy(){this.process_server||(this.detachMutationObserver(),"ontouchstart"in window?this.$el.removeEventListener("touchmove",this.handleMousemove):this.$el.removeEventListener("mousemove",this.handleMousemove),window.removeEventListener("resize",this.setSize))}};function $t(t,e,i,n,s,r){const o=lt("controls");return x(),N("div",{class:"carousel-3d-container",style:u({height:this.slideHeight+"px"})},[p("div",{class:"carousel-3d-slider",style:u({width:this.slideWidth+"px",height:this.slideHeight+"px"})},[V(t.$slots,"default",{},void 0,!0)],4),i.controlsVisible?(x(),O(o,{key:0,"next-html":i.controlsNextHtml,"prev-html":i.controlsPrevHtml,width:i.controlsWidth,height:i.controlsHeight},null,8,["next-html","prev-html","width","height"])):gt("",!0)],4)}var q=k(kt,[["render",$t],["__scopeId","data-v-164aa45b"]]),Pt={install:t=>{t.component("Carousel3d",q),t.component("Slide",K)}};d.Carousel3d=q,d.Slide=K,d.default=Pt,Object.defineProperties(d,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=carousel-3d.umd.js.map
